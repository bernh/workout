use std::str::FromStr;
use wtree::{Run};

grammar;

pub Step : Run = {
    TimeRun,
    DistanceRun,
};

TimeRun : Run = {
    <t:Num> "min" <e:Effort> => Run::from_time(600.0, 4.5),
};

DistanceRun : Run = {
    <d:Num><e:Effort> => Run::from_distance(d as f32, 2.7),
};

Num: i32 = {
    r"[0-9]+" => <>.parse::<i32>().unwrap(),
};

Effort : String = {
    r"[ELMTHIR]" => <>.to_string(),
};
